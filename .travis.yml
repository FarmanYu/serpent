# https://docs.travis-ci.com/user/customizing-the-build
# https://docs.travis-ci.com/user/languages/javascript-with-nodejs

language: node_js

env:
  - CI=true

matrix:
  include:
    - os: windows
    - os: osx
      env: CODECOV=true

# os:
#   - linux
#   - osx
#   - windows

node_js:
  - "8"
  - "10"
  - "12"

before_install:
  - echo before_install

install:
  - npm install
  - if [ "$CODECOV" = "true" ]; then npm install -g codecov@3; fi

before_script:
  - echo before_script

scripts:
  - npm test

after_success:
  - if [ "$CODECOV" = "true" ]; then codecov -f projects/serpent-cli/coverage/lcov.info ; fi
  - if [ "$CODECOV" = "true" ]; then codecov -f projects/serpent-template/coverage/lcov.info ; fi

notifications:
  email:
    - qiuzhongleiabc@126.com
